<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:mio="http://java.sun.com/jsf/composite/components"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pm="http://primefaces.org/mobile">
    <f:view renderKitId="PRIMEFACES_MOBILE" />

    <h:head>
        <ui:define name="titulo">
            <title>Plantillas</title>
        </ui:define>
        <title>Inventario</title>
        <meta charset="utf-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></link>
        <!--<link rel="stylesheet" href="CSS/estilo.css"></link>-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    </h:head>
    <h:body>


        <pm:page id="main">
            <pm:header title="Main Page"></pm:header>

        </pm:page>
        <pm:page id="second" lazy="true">
            <pm:header title="Second Page"></pm:header>
            <pm:content>
                //Lazy loaded content
            </pm:content>
        </pm:page>

        <ui:decorate template="/resources/plantilla/template.xhtml">
            <ui:define name="cabeceraPrincipal">
                <h1>Sistema de plantillas facelets</h1>
            </ui:define>

            <ui:define name="content">
                <h2>Listado por Aula</h2>
            </ui:define>
        </ui:decorate>

        <div class="row">
            <div class="col-sm-1"></div>
            <div class="col-sm-9">
                <section>
                    <h:form id="formularioUpd">







                        <h:panelGrid columns="4" cellpadding="5">
                            <h:outputLabel for="name" value="Name:" style="font-weight:bold" />
                            <p:inputText id="name" value="#{dropdownView.text}" />
                            <p:commandButton value="Submit" update="display" icon="ui-icon-check" />
                            <h:outputText id="display" value="#{dropdownView.text}" />
                        </h:panelGrid>









                        <!--                        <p:selectOneMenu value="# {producto.id}" id="selectClase">
                                                    <f:selectItems value="# {producto.listaProductos}" var="c" itemLabel=" # {c.marca.nombre}" itemValue="# {c.marca.nombre}"/>
                                                    <p:ajax event="change" listener="# {producto.productosPorClases()}" update="tablaProductos"/>
                                                   
                                                </p:selectOneMenu>
                        
                        -->                     

                        <!--                       <p:selectOneMenu value="# {producto.id}" >
                                                        <f:selectItem itemLabel="Seleccione provincia" itemValue=""/>
                                                        <f:selectItems value="# {producto.allProductos()}" var="c" itemLabel=" # {c.marca.nombre}" itemValue="# {c.marca.nombre}"/>
                                                        <p:ajax update="selectClase1" listener="# {producto.productosPorClases()}" event="change"/>
                                                    </p:selectOneMenu>-->

                        <!--                        <p:selectOneMenu value="# {producto.id}" id="selectClase1">
                                                    <f:selectItems value="# {producto.listaProductos}" var="c" itemLabel=" # {c.marca.nombre}" itemValue="# {c.marca.nombre}"/>
                                                </p:selectOneMenu>-->


                        <!--
                                                
                        
                        
                        
                        -->


                        <!--                        <p:outputLabel for="# {estancia.allEstancias()}" value="Country: " />
                                                <p:selectOneMenu id="country" value="# {producto.id}" style="width:150px">
                                                    <p:ajax listener="# {producto.productosPorClases}" update="tablaProductos" />
                                                    <f:selectItem itemLabel="Selecciona una clase" itemValue="" noSelectionOption="true" />
                                                    <f:selectItems value="# {estancia.allEstancias()}" />
                                                </p:selectOneMenu>-->


                        <!--                                                <p:selectOneMenu value="# {estancia.id}" >
                                                                            <f:selectItems value="# {estancia.allEstancias()}" var="c" itemLabel="# {c.nombre}" />
                                                                        </p:selectOneMenu>-->







                        <p:selectOneMenu value="#{producto.id}" id="selectClase">
                            <f:selectItems value="#{estancia.allEstancias()}" var="c" itemLabel=" #{c.nombre}" itemValue="#{c.nombre}"/>
                            <p:ajax event="change" listener="#{producto.setFecha_baja('21')}" update="prueba"/>
                        </p:selectOneMenu>


                        <p:outputLabel id="prueba" value="#{producto.fecha_baja}hola"/>




                        <p:dataTable var="pro" value="#{producto.listaProductos}" id="tablaProductos">
                            <p:columnGroup type="header">
                                <p:row>
                                    <p:column colspan="12" headerText="Productos" />
                                </p:row>             
                                <p:row>                    
                                    <p:column colspan="1" headerText="Categoria" />             
                                    <p:column colspan="2" headerText="Producto" />             
                                    <p:column colspan="3" headerText="Caracteristicas" />             
                                    <p:column colspan="1" headerText="Estado" />             
                                    <p:column colspan="2" headerText="Fechas" /> 
                                    <p:column colspan="1" headerText="Precio" />
                                    <p:column colspan="1" headerText="Ubicacion" />
                                    <p:column colspan="1" headerText="Localizacion" />

                                </p:row>             
                                <p:row>             
                                    <p:column headerText="Categoría" />              
                                    <p:column headerText="Marca" />              
                                    <p:column headerText="Modelo" />             
                                    <p:column headerText="Disco Duro" />    
                                    <p:column headerText="Ram" />
                                    <p:column headerText="Procesador" />
                                    <p:column headerText="Estado" />
                                    <p:column headerText="Fecha Compra" />
                                    <p:column headerText="Fecha Baja" />
                                    <p:column headerText="Precio" />
                                    <p:column headerText="Ubicación" />
                                    <p:column headerText="Localización" />
                                </p:row> 
                            </p:columnGroup> 

                            <p:column>#{pro.categoria.nombre}</p:column> 
                            <p:column>#{pro.marca.nombre}</p:column> 
                            <p:column>#{pro.modelo.nombre}</p:column>  
                            <p:column>#{pro.caracteristicas.hd}</p:column> 
                            <p:column>#{pro.caracteristicas.ram}</p:column>
                            <p:column>#{pro.caracteristicas.procesador}</p:column>  
                            <p:column>#{pro.estado.descripcion}</p:column> 
                            <p:column>#{pro.fecha_compra}</p:column>  
                            <p:column>#{pro.fecha_baja}</p:column> 
                            <p:column>#{pro.precio}</p:column> 
                            <p:column>#{pro.ubicacion}</p:column>
                            <p:column>#{pro.localizacion.descripcion}</p:column>  
                            <p:columnGroup type="footer"> 
                                <p:row> <p:column colspan="12" style="text-align:left" footerText="Albarregas"/>                             
                                </p:row>   
                            </p:columnGroup>                   
                        </p:dataTable>




                        <!--                        <h:selectOneListbox value="# {producto.id}" size="3">
                                                    <f:selectItems value="# {producto.allProductosWherePorClase(producto.id)}" var="c" itemLabel=" # {c.localizacion.host.nombre}"/>
                        
                                                                                <f:ajax render="localizacion1" execute="@form"/>
                                                </h:selectOneListbox>
                        
                        
                        
                                                <h:selectOneListbox id="todosProductos" value="# {localizacion.id}" size="3">
                                                    <f:selectItems value="# {localizacion.allLocalizaciones(estancia.id)}" var="c" itemLabel=" # {c.id}"/>
                        
                                                                                <f:ajax render="localizacion1" execute="@form"/>
                                                </h:selectOneListbox>
                        -->

                        <!--                        <h:inputText id="localizacion1"  value="# {producto.localizacion.descripcion}"/>-->


                    </h:form>



                </section>
            </div>
            <div class="col-sm-1"></div>
        </div>





    </h:body>

</html>